<!doctype HTML>
<html>
<head>
</head>
<body>
<div style="font-size:1.5em;">
<br><h1>
<u>Allow Camera Access</u> and point on the whole image to see magic!!.</h1> <br>
*Keep mobile steady for best experience<br><br>

<a href="#" onclick="redirectTo()">Click here</a> to continue.
<div>
</body>
<script>

const baselink = "https://miraag.com/mg/p/ts/memes/"
	
const params = (new URL(location)).searchParams; //get query strings	

window.addEventListener('DOMContentLoaded', function() {
	//set page params
	if(params.has('i')) { 
		i = params.get('i'); //get id from query string
		setTimeout(redirectTo,7000);
	}
	else { 
		console.log("mdl and/or t parameter not provided in link");
		alert("Please scan valid qr code"); 
		document.body.innerHTML = "Please scan valid qr code";
	}
});

function redirectTo() {
	//set page params
	if(params.has('i')) { 
		i = params.get('i'); //get id from query string
		let redirectlink = "";
		switch(i) {
			case "1": redirectlink = baselink + "1_150-rupiya-dega"; break;
			case "2": redirectlink = baselink + "2_utha-le-re-baba"; break;
			case "3": redirectlink = baselink + "3_kuch-bhi"; break;
			case "4": redirectlink = baselink + "4_ye-sab-doglapan-hai"; break;
			case "5": redirectlink = baselink + "5_ye-meri-expertise-nahi-hai"; break;
			case "6": redirectlink = baselink + "6_tension-leneka-nai-deneka"; break;
			case "7": redirectlink = baselink + "7_i-am-just-a-cat"; break;
			/*
				new ids will be added here		
			*/
			default: redirectlink = baselink + "index"; break;
		}	
		console.log(redirectlink);
		window.location.replace(redirectlink);
	}
	else { 
		console.log("i parameter not provided in link");
		alert("Please scan valid qr code"); 
		document.body.innerHTML = "Please scan valid qr code";
	}
}

</script>
</html>
